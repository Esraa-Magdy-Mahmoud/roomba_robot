<?xml version="1.0" ?>
<robot name="create">
  <joint name="create_left_wheel_hinge" type="revolute">
    <parent link="create__base"/>
    <child link="create__left_wheel"/>
    <origin rpy="0  0  0" xyz="0     0.13   0.032"/>
    <axis xyz="0  1  0"/>
    <limit effort="100" lower="0" upper="100" velocity="10"/>
  </joint>
  <joint name="create_right_wheel_hinge" type="revolute">
    <parent link="create__base"/>
    <child link="create__right_wheel"/>
    <origin rpy="0  0  0" xyz="0    -0.13   0.032"/>
    <axis xyz="0  1  0"/>
    <limit effort="100" lower="0" upper="100" velocity="10"/>
  </joint>
  <link name="create__base">
    <inertial>
      <mass value="2.234000"/>
      <origin rpy="0  0  0" xyz="0.00145 -0.00045  0.02978"/>
      <inertia ixx="0.058640" ixy="0.000124" ixz="0.000615" iyy="0.058786" iyz="0.000014" izz="1.532440"/>
    </inertial>
    <collision name="create__base_collision">
      <origin rpy="0  0  0" xyz="0      0      0.0478"/>
      <geometry>
        <cylinder length="0.061163" radius="0.016495"/>
      </geometry>
    </collision>
    <collision name="create__front_wheel_collision">
      <origin rpy="0      1.5707  1.5707" xyz="0.13   0     0.017"/>
      <geometry>
        <sphere radius="0.018000"/>
      </geometry>
    </collision>
    <collision name="create__rear_wheel_collision">
      <origin rpy="0      1.5707  1.5707" xyz="-0.13   0     0.017"/>
      <geometry>
        <sphere radius="0.015000"/>
      </geometry>
    </collision>
    <visual name="create__base_visual">
      <origin rpy="0  0  0" xyz="0      0      0.0478"/>
      <geometry>
        <mesh filename="package://roomba_robot/roomba_description/meshes/create_1.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <visual name="create__front_wheel_visual">
      <origin rpy="0      1.5707  1.5707" xyz="0.13   0     0.017"/>
      <geometry>
        <sphere radius="0.009000"/>
      </geometry>
    </visual>
    <visual name="create__rear_wheel_visual">
      <origin rpy="0      1.5707  1.5707" xyz="-0.13   0     0.017"/>
      <geometry>
        <sphere radius="0.007500"/>
      </geometry>
    </visual>
  </link>
  <link name="create__left_wheel">
    <inertial>
      <mass value="0.010000"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.001000" ixy="0" ixz="0" iyy="0.001000" iyz="0" izz="0.001000"/>
    </inertial>
    <collision name="create__collision">
      <origin rpy="0      1.5707  1.5707" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.023000" radius="0.033000"/>
      </geometry>
    </collision>
    <visual name="create__visual">
      <origin rpy="0      1.5707  1.5707" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.023000" radius="0.033000"/>
      </geometry>
    </visual>
  </link>
  <link name="create__right_wheel">
    <inertial>
      <mass value="0.010000"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.001000" ixy="0" ixz="0" iyy="0.001000" iyz="0" izz="0.001000"/>
    </inertial>
    <collision name="create__collision">
      <origin rpy="0      1.5707  1.5707" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.023000" radius="0.033000"/>
      </geometry>
    </collision>
    <visual name="create__visual">
      <origin rpy="0      1.5707  1.5707" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.023000" radius="0.033000"/>
      </geometry>
    </visual>
  </link>
<!---Adding plugins-->
<!-- IMU -->
<gazebo>
    <plugin name="imu_plugin" filename="libgazebo_ros_imu.so">
      <alwaysOn>true</alwaysOn>
      <bodyName>create__base</bodyName>
      <topicName>imu</topicName>
      <serviceName>imu_service</serviceName>
      <gaussianNoise>0.0</gaussianNoise>
      <updateRate>20.0</updateRate>
    </plugin>
  </gazebo>
<!--IMU -->
<!-- differential drive-->
<gazebo>
    <plugin name="differential_drive_controller" filename="libgazebo_ros_diff_drive.so">
      <legacyMode>false</legacyMode>
      <alwaysOn>true</alwaysOn>
      <updateRate>100.0</updateRate>
      <leftJoint>create_left_wheel_hinge</leftJoint>
      <rightJoint>create_right_wheel_hinge</rightJoint>
      <wheelSeparation>0.4</wheelSeparation>
      <wheelDiameter>0.2</wheelDiameter>
      <torque>10</torque>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <robotBaseFrame>robot_footprint</robotBaseFrame>
      <publishWheelTF>true</publishWheelTF>
      <wheelAcceleration>1</wheelAcceleration>
     
      <publishTf>1</publishTf>
      <odometrySource>encoder</odometrySource>
    </plugin>
  </gazebo>

<!-- differential drive-->
<!--Depth Camera -->

</robot>
